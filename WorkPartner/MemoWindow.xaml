<Window x:Class="WorkPartner.MemoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Memo" Height="500" Width="800"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        Loaded="Window_Loaded" Closing="Window_Closing">
    <Border BorderBrush="#CCCCCC" BorderThickness="1" CornerRadius="5" Background="{DynamicResource SectionBackgroundBrush}">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border Grid.Row="0" x:Name="TitleBar" Background="Transparent" MouseDown="TitleBar_MouseDown" Padding="10,0">
                <Grid>
                    <TextBlock Text="메모장" VerticalAlignment="Center" Foreground="{DynamicResource TextBrush}"/>
                    <Button Content="✕" HorizontalAlignment="Right" Click="CloseButton_Click" Style="{StaticResource WindowControlButton}"/>
                </Grid>
            </Border>
            <Grid Grid.Row="1" Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="250"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Left Panel: Calendar and Memo List -->
                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                    <Calendar x:Name="MemoCalendar" SelectedDatesChanged="MemoCalendar_SelectedDatesChanged"/>
                    <Grid Margin="0,10,0,5">
                        <Button Content="&lt;" Click="PrevDayButton_Click" HorizontalAlignment="Left"/>
                        <Button Content="오늘" Click="TodayButton_Click" HorizontalAlignment="Center"/>
                        <Button Content="&gt;" Click="NextDayButton_Click" HorizontalAlignment="Right"/>
                    </Grid>
                    <ListBox x:Name="MemoListBox" SelectionChanged="MemoListBox_SelectionChanged"
                             MaxHeight="200" DisplayMemberPath="Title"/>
                </StackPanel>

                <!-- Right Panel: Memo Editor -->
                <Grid Grid.Column="1">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="제목" Foreground="{DynamicResource MutedTextBrush}"/>
                    <TextBox Grid.Row="0" x:Name="MemoTitleTextBox" Margin="0,5,0,10"
                             Style="{StaticResource InputTextBoxStyle}" TextChanged="MemoTitleTextBox_TextChanged"/>

                    <TextBlock Grid.Row="1" Text="내용" Margin="0,0,0,5" VerticalAlignment="Top" Foreground="{DynamicResource MutedTextBrush}"/>
                    <TextBox Grid.Row="1" x:Name="MemoContentTextBox"
                             AcceptsReturn="True" TextWrapping="Wrap" VerticalScrollBarVisibility="Auto"
                             Style="{StaticResource InputTextBoxStyle}" TextChanged="MemoContentTextBox_TextChanged"/>

                    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                        <Button Content="새 메모" Click="NewMemoButton_Click"/>
                        <Button Content="삭제" Margin="10,0,0,0" Click="DeleteMemoButton_Click"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </Grid>
    </Border>
</Window>

